{"version":3,"file":"util.js","sources":["../src/util.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n  TRANSITION_END: 'transitionend',\n\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    let selector = element.getAttribute('data-target')\n\n    if (!selector || selector === '#') {\n      const hrefAttr = element.getAttribute('href')\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      return null\n    }\n  },\n\n  getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0\n    }\n\n    // Get transition-duration of the element\n    let transitionDuration = window.getComputedStyle(element).transitionDuration\n    let transitionDelay = window.getComputedStyle(element).transitionDelay\n\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  triggerTransitionEnd(element) {\n    element.dispatchEvent(new Event(Util.TRANSITION_END))\n  },\n\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  emulateTransitionEnd(element, duration) {\n    let called = false\n    const durationPadding = 5\n    const emulatedDuration = duration + durationPadding\n    function listener() {\n      called = true\n      element.removeEventListener(Util.TRANSITION_END, listener)\n    }\n\n    element.addEventListener(Util.TRANSITION_END, listener)\n    setTimeout(() => {\n      if (!called) {\n        Util.triggerTransitionEnd(element)\n      }\n    }, emulatedDuration)\n  },\n\n  typeCheckConfig(componentName, config, configTypes) {\n    for (const property in configTypes) {\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        const expectedTypes = configTypes[property]\n        const value         = config[property]\n        const valueType     = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  makeArray(nodeList) {\n    if (!nodeList) {\n      return []\n    }\n\n    return [].slice.call(nodeList)\n  },\n\n  isVisible(element) {\n    if (!element) {\n      return false\n    }\n\n    if (element.style !== null && element.parentNode !== null && typeof element.parentNode.style !== 'undefined') {\n      return element.style.display !== 'none' &&\n        element.parentNode.style.display !== 'none' &&\n        element.style.visibility !== 'hidden'\n    }\n    return false\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  },\n\n  noop() {\n    // eslint-disable-next-line no-empty-function\n    return function () {}\n  },\n\n  get jQuery() {\n    return window.jQuery\n  }\n}\n\nexport default Util\n"],"names":["MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","Util","TRANSITION_END","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","window","getComputedStyle","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","triggerTransitionEnd","dispatchEvent","Event","isElement","nodeType","emulateTransitionEnd","duration","called","durationPadding","emulatedDuration","listener","removeEventListener","addEventListener","setTimeout","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","makeArray","nodeList","slice","isVisible","style","parentNode","display","visibility","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","noop","jQuery"],"mappings":"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"}